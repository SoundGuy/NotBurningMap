<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.2.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.2.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyBSA8KMocg7ik3eNK02CV6d3C-yMNi8n0c",
        authDomain: "not-burning-map.firebaseapp.com",
        projectId: "not-burning-map",
        storageBucket: "not-burning-map.appspot.com",
        messagingSenderId: "305640361948",
        appId: "1:305640361948:web:aa86d08b16b8bded98c919",
        measurementId: "G-QB64JHRNY2"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
</script>


<script>
    const facebookProvider = new firebase.auth.FacebookAuthProvider();

    function signInWithFacebook() {
        firebase.auth().signInWithPopup(facebookProvider)
            .then((result) => {
                // Handle successful login
                const user = result.user;
                console.log("Logged in user:", user);
                // You can now save user data to Firestore
            })
            .catch((error) => {
                console.error("Error signing in with Facebook:", error);
            });
    }
</script>

<!-- Add the Leaflet CSS and JavaScript links -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

<!-- Create a map container -->
<div id="map"></div>

<script>
    // Initialize the map
    const map = L.map('map').setView([0, 0], 2); // Set initial coordinates and zoom level

    // Add a tile layer (you can choose different tile providers)
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);

    // Add markers for friends' locations
    // You would need to fetch friends' locations from Firestore and iterate through them
    // Example: Add a marker for a friend's location
    const friendLocation = [latitude, longitude]; // Replace with actual coordinates
    L.marker(friendLocation).addTo(map).bindPopup("Your friend's name");
</script>
